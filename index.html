<html lang="en">

    <head>
        
        <link rel="stylesheet" href="index.css">

        <link rel="" href="index.css">

        <meta charset="UTF-8">

        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <link rel="icon" href="assets/images/icon.ico">

        <title>Ant Clicker</title>

    </head>

    <body>

        <!-- <h1>momentarily empty</h1>
        <img src="assets/images/cat.gif">
        <h1 style="margin-top: 1.3%;">loading content</h1> -->
        
        <div class="sectionLeft">
            <center>
                <div class="scoreContainer unselectable">
                    <p>üçÉ Nutrients: <span id="nutrients">0</span></p>
                    <p>üêú Ant Income: <span id="nutrientsper">0</span></p>
                </div>
                <br>
                <div class="clickerContainer unselectable">
                    <img src="assets/images/ant.png" style="width: 256; height: 256;" onclick="addToNutrients(clickingPower)">
                </div>
            </center>

            <div class="sectionFooter">
                <h5>Ant Clicker | Bunker explorer 2000#7500 on Discord</h5>
                <h5>Auto saves every 30 seconds | Ctrl + S to manually save</h5>
                <h5>or click button below</h5>
                <button onclick="saveGame();">Save Game</button>
                <button onclick="resetGame();">Reset Game</button>
            </div>
        </div>

        <div class="sectionRight">
            <table class="shopButton unselectable" onclick="buyMiWorker()">
                <tr>
                    <td id="image"><img src="assets/images/minor.png"></td>
                    <td id="nameAndCost">
                        <p>Minor Worker</p>
                        <p>üçÉ<span id="miworkercost">15</span></p>
                    </td>
                    <td id="amount"><span id="miworkers">0</span></td>
                </tr>
            </table>
            <table class="shopButton unselectable" onclick="buyMaWorker()">
                <tr>
                    <td id="image"><img src="assets/images/major.png"></td>
                    <td id="nameAndCost">
                        <p>Major Worker</p>
                        <p>üçÉ<span id="maworkercost">100</span></p>
                    </td>
                    <td id="amount"><span id="maworkers">0</span></td>
                </tr>
            </table><table class="shopButton unselectable" onclick="buySoldier()">
                <tr>
                    <td id="image"><img src="assets/images/soldier.png"></td>
                    <td id="nameAndCost">
                        <p>Soldier</p>
                        <p>üçÉ<span id="soldiercost">500</span></p>
                    </td>
                    <td id="amount"><span id="soldiers">0</span></td>
                </tr>
            </table>
        </div>

        <script>
            var nutrients = 0;
            var nutrientsper = 0;

            var clickingPower = 1;

            var miworkercost = 15;
            var miworkers = 0;
            var maworkercost = 100;
            var maworkers = 0;
            var soldiercost = 500;
            var soldiers = 0;

            function buyMiWorker(){
                if (nutrients >= miworkercost) {
                    nutrients = nutrients - miworkercost;
                    miworkers = miworkers + 1;
                    miworkercost = Math.round(miworkercost * 1.15);

                    document.getElementById("nutrients").innerHTML = nutrients;
                    document.getElementById("miworkercost").innerHTML = miworkercost;
                    document.getElementById("miworkers").innerHTML = miworkers;
                }
            }

            function buyMaWorker(){
                if (nutrients >= maworkercost) {
                    nutrients = nutrients - maworkercost;
                    maworkers = maworkers + 1;
                    maworkercost = Math.round(maworkercost * 1.50);

                    document.getElementById("nutrients").innerHTML = nutrients;
                    document.getElementById("maworkercost").innerHTML = maworkercost;
                    document.getElementById("maworkers").innerHTML = maworkers;
                }
            }

            function buySoldier(){
                if (nutrients >= soldiercost) {
                    nutrients = nutrients - soldiercost;
                    soldiers = soldiers + 1;
                    soldiercost = Math.round(soldiercost * 1.75);

                    document.getElementById("nutrients").innerHTML = nutrients;
                    document.getElementById("soldiercost").innerHTML = soldiercost;
                    document.getElementById("soldiers").innerHTML = soldiers;
                }
            }

            function addToNutrients(amount) {
                nutrients = nutrients + amount;
                document.getElementById("nutrients").innerHTML = nutrients;
            }

            function loadGame() {
                var savedGame = JSON.parse(localStorage.getItem("gameSave"));
                if (typeof savedGame.nutrients !== "undefined") nutrients = savedGame.nutrients;
                if (typeof savedGame.clickingPower !== "undefined") clickingPower = savedGame.clickingPower;
                if (typeof savedGame.miworkercost !== "undefined") miworkercost = savedGame.miworkercost;
                if (typeof savedGame.miworkers !== "undefined") miworkers = savedGame.miworkers;
                if (typeof savedGame.maworkercost !== "undefined") maworkercost = savedGame.maworkercost;
                if (typeof savedGame.maworkers !== "undefined") maworkers = savedGame.maworkers;
                if (typeof savedGame.soldiercost !== "undefined") soldiercost = savedGame.soldiercost;
                if (typeof savedGame.soldiers !== "undefined") soldiers = savedGame.soldiers;
            }

            function saveGame() {
                var gameSave = {
                    nutrients: nutrients,
                    clickingPower: clickingPower,
                    miworkercost: miworkercost,
                    miworkers: miworkers,
                    maworkercost: maworkercost,
                    maworkers: maworkers,
                    soldiercost: soldiercost,
                    soldiers: soldiers
                };
                localStorage.setItem("gameSave", JSON.stringify(gameSave));
            }

            function resetGame() {
                if (confirm("Are you sure you want to reset your game?")) {
                    var gameSave = {};
                    localStorage.setItem("gameSave", JSON.stringify(gameSave));
                    location.reload();
                }
            }

            window.onload = function() {
                loadGame();
                document.getElementById("nutrients").innerHTML = nutrients;
                document.getElementById("nutrientsper").innerHTML = nutrientsper;
                document.getElementById("miworkercost").innerHTML = miworkercost;
                document.getElementById("miworkers").innerHTML = miworkers;
                document.getElementById("maworkercost").innerHTML = maworkercost;
                document.getElementById("maworkers").innerHTML = maworkers;
                document.getElementById("soldiercost").innerHTML = soldiercost;
                document.getElementById("soldiers").innerHTML = soldiers;
            };

            setInterval(function() {
                nutrients = nutrients + miworkers;
                nutrients = nutrients + maworkers * 5;
                nutrients = nutrients + soldiers * 70;
                nutrientsper = miworkers + maworkers * 5 + soldiers * 70; // all the intervals combined to say what ur score per second is! //
                document.getElementById("nutrients").innerHTML = nutrients;
                document.getElementById("nutrientsper").innerHTML = nutrientsper;
            
                document.title = nutrients + " Nutrients - Ant Clicker";
            }, 1000); //1000 ms = 1 second

            setInterval(function(){
                saveGame();
            }, 30000); //30000ms = 30seconds //

            document.addEventListener("keydown", function(event) {
                if (event.ctrlKey && event.which == 83) { //ctrl + s
                    event.preventDefault();
                    saveGame();
                }
            }, false);
        </script>

    </body>

</html>
